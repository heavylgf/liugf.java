![](018_2、网络协议的补充说明%20(4).png)

现在我们家里用的路由器其实都是集成了集线器、交换机和路由器的功能的，他是一个综合的东西，之前我们说过，所有电脑发出去的网络请求，其实都是按照几层网络模型来封装数据包

比如说按照tcp协议封装一个包，再封装到ip包里去，最后封装到以太网包里去，这个以太网层面都是有mac地址的，会写在包头里，表明了目标设备的mac地址，接着这个以太网包就会通过电脑的网卡发送出去

这个网卡就会负责把我们的数据包转换为电路信号，就是0101之类的电信号，通过正负电极来做的，这个电路信号也是按照以太网的协议来进行分割，这样电路信号就可以表示出完整的以太网数据包的内容了

然后电信号会通过无线网传输到路由器，路由器里面有一个集线器的功能，这个集线器就是负责把这个数据包广播给子网内的所有设备，这里就是指路由器本身包含的交换机功能，交换机收到这个数据包之后

他会根据mac地址表做一个转发，就是根据你的目标mac地址转发到对应的端口上去，你大概就认为是转发给路由器吧，路由器会根据目标地址和自己本身的mac地址判断一下，发现是自己的包，就会接收这个包

这里大家要注意的一点是，路由器里的交换机的这个功能，实际上是基于mac地址实现的，不知道大家发现了没有，也就是基于以太网协议工作的，属于子网内的通信方式，他是通过集线器功能广播出去数据包

各个设备（比如交换机，路由器）都是根据目标mac地址判断是不是应该自己接收的，所以一定要注意这一点

而且这里要注意的一点，比如你是通过以太网网卡和网线连接路由器的，那么此时就是封装以太网包然后通过以太网网卡发包出去到集线器，然后广播给路由器，路由器网卡接收电路信号，转换为数字信号，根据mac地质判断是自己的包

如果你的笔记本电脑走的是无线网呢？其实是类似的，只不过tcp包封在ip包里，然后ip包就不是封在以太网包里了，是封在无线局域网协议规定格式的包里，然后这个包通过无线网卡发出去，发到路由器上的同样是无线网卡上

所以无论底层是什么样的联网方式，其实本质都是类似的

假设如果我们家里的电脑是通过网线跟路由器连接的，那么可以做以太网协议，按照以太网协议封装好以太网的包，在包头里写上mac地址，发送到交换机上去，转发到路由器上，之间是通过网线连接的

如果是家里走的是无线局域网呢？笔记本电脑跟路由器之间是不走网线的

无线局域网跟以太网是一个层次的协议，都是数据链路层的协议，走的是不同的底层网络数据传输的方式，你的电脑就会具备一个无线网网卡，可以支持不同的上网方式的。家用电脑，支持的就是两种，以太网网卡，无线局域网网卡，走两种不同的协议发网络数据包出去，到路由器上



