
![](04_hdfs整体架构原理(1).png)

分布式系统其实是有很多架构的，最经典的一种就是master-slave模式的，hdfs作为一种分布式的数据存储系统，其实就是用的
master-slave模式的分布式系统架构

在hdfs的架构里，有一个namenode进程（吐槽一点点，很多培训机构，在给入门的同学讲解hdfs课程的时候，namenode，懂java的，
namenode也是一个系统，是一个分布式系统的组成结构，启动，jvm进程），这个你可以认为就是个master，就是主人的意思了，在
一个普通的hdfs集群架构里，namenode记住只有一个，这个玩意儿你可以认为是整个集群的指挥中心

还有一个进程，叫做datanode进程，每台机器上都有一个datanode进程，负责对这台机器上的数据进行存储的

namenode里面主要放的是所谓的文件系统命名空间，filesystem namespace，很多培训机构就这么干讲，其实根本说不透，说白了，
这个东西就是举个例子啊，你在hdfs里的数据都是以目录和文件的形式来组织的

hdfs，分布式文件存储系统，存放的数据的格式都是目录->文件，文件里存放了几百GB的数据

然后呢，你肯定更有很多目录，每个目录下面有子目录，还有很多的文件，对不对啊，就是这个意思了，比如说包含/a，/b，/c三个根
目录，/a下面还有/a/hello，/a/hi，之类的子目录，然后每个目录里还有/a/hello/ddd.txt这种文件

所以这套文件系统的目录的层级结构和文件对应关系，就是所谓的filesystem namespace了，然后这套东西就是放在namenode里的

1GB，hdfs分布式存储，把这个文件，拆分成好几个block，每个block是128mb，8个block，尽可能的将8个block放在不同的机器上面

然后还有一个角色叫做datanode，这个玩意儿，说白了，就是每台机器会部署一个datanode节点，然后每个datanode就负责管理自己这
台机器上负责存储的数据啊，比如说一个大文件给拆分成了3个部分，每个部分叫做一个block，就是一个文件块，分别在机器01，机器
02，机器03上都存了一部分。然后每台机器上都有datanode，就负责管理自己那部分文件啊

所以讲到这里，你还应该知道，那么在namenode里，其实还存储了说，每个文件对应几个block啊，每个block在哪个datanode上啊，所以
你可以看到，namenode就是整个hdfs集群的一个大脑啊

比如说你要读取一个文件的数据，那么肯定会找namenode问一下啊，说兄弟我要读取XXX文件，你告诉我这个文件对应哪几个block啊，
都在哪几个datanode上存储呢？然后namenode就会告诉你，接着你就要跟各个datanode通信读取他们那上面的block数据出来啊


