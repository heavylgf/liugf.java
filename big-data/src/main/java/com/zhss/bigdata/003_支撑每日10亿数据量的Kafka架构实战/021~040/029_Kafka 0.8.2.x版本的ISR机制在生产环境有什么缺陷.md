
之前说的那套ISR机制是kafka 0.8.x系列的机制，其实是有缺陷的，那个参数默认的值是4000，也就是follower
落后4000条数据就认为是out-of-sync，但是这里有一个问题，就是这个数字是固定死的

如果说现在生产端突然之间涌入几万条数据呢？是不是有可能leader瞬间刚接收到几万条消息，然后所有follower
还没来得及同步过去，此时所有follower都会被踢出ISR列表？然后同步了之后，再回到ISR列表

所以这种依靠固定参数判断的机制，会导致可能在系统高峰时期，follower会频繁的踢出ISR列表再回到ISR列表，
这种完全无意义的事情

一般来说在kafka  0.8.2.x系列版本上生产的时候，一遍都会把这个ISR落后 判定阈值设置的大一些，避免上述的
情况出现，你可以设置个几万，10万，4000，如果你公司里没那么大的高峰并发量，每秒就是几千的并发，那就没问
题了


